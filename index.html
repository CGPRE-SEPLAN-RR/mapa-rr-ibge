<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Mapa de Roraima com Microdados do Censo IBGE 2022</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    function load_map() {
      let esferaValor;
      const esfera = document.getElementById("esfera");
      const local = document.getElementById("local").value;
      const dados = document.getElementById("dados").value;

      switch (local) {
        case "estado":
          if (esfera.selectedIndex === 0) {
            esfera.innerHTML = `<option value="municipios" selected>Município</option><option value="setor_censitario">Setor Censitário</option>`;
            esferaValor = "municipios";
          } else {
            esfera.innerHTML = `<option value="municipios">Município</option><option value="setor_censitario" selected>Setor Censitário</option>`;
            esferaValor = esfera.value;
          }

          break;
        case "boavista":
          if (esfera.selectedIndex === 0) {
            esfera.innerHTML = `<option value="bairro" selected>Bairro</option><option value="setor_censitario">Setor Censitário</option>`;
            esferaValor = "bairro";
          } else {
            esfera.innerHTML = `<option value="bairro">Bairro</option><option value="setor_censitario" selected>Setor Censitário</option>`;
            esferaValor = esfera.value;
          }

          break;
        default:
          esfera.innerHTML = `<option value="setor_censitario">Setor Censitário</option>`;
          esferaValor = "setor_censitario";
          break;
      }

      const iframe = document.getElementById("mapa");

      if (esferaValor == "municipios") {
        mapa.src = `./maps/${esferaValor}_${dados}.html`;
      } else if (esferaValor == "bairro") {
        mapa.src = `./maps/${esferaValor}_${dados}_${local}.html`;
      } else if (local == "estado") {
        mapa.src = `./maps/${local}_${esferaValor}_${dados}.html`;
      } else {
        mapa.src = `./maps/area_urbana_${dados}_${local}.html`;
      }
    }
  </script>
</head>

<body>
  <div id="app" class="flex flex-col items-center justify-center h-screen mx-10">
    <div class="flex justify-center flex-col md:flex-row mb-10 space-y-5 md:space-y-0 md:space-x-5 w-full">
      <div class="flex flex-col space-y-2">
        <label class="font-bold" for="local">Local</label>
        <select class="p-2 rounded w-full md:w-fit" name="local" id="local" onchange="load_map()">
          <option value="estado" selected>Estado</option>
          <option value="amajari">Área Urbana de Amajari</option>
          <option value="altoalegre">Área Urbana de Alto Alegre</option>
          <option value="boavista">Área Urbana de Boa Vista</option>
          <option value="bonfim">Área Urbana de Bonfim</option>
          <option value="canta">Área Urbana de Cantá</option>
          <option value="caracarai">Área Urbana de Caracaraí</option>
          <option value="caroebe">Área Urbana de Caroebe</option>
          <option value="iracema">Área Urbana de Iracema</option>
          <option value="mucajai">Área Urbana de Mucajaí</option>
          <option value="normandia">Área Urbana de Normandia</option>
          <option value="pacaraima">Área Urbana de Pacaraima</option>
          <option value="rorainopolis">Área Urbana de Rorainópolis</option>
          <option value="saojoaodabaliza">Área Urbana de São João da Baliza</option>
          <option value="saoluiz">Área Urbana de São Luiz</option>
          <option value="uiramuta">Área Urbana de Uiramutã</option>
        </select>
      </div>
      <div class="flex flex-col space-y-2">
        <label class="font-bold" for="esfera">Esfera</label>
        <select class="p-2 rounded w-full md:w-fit" name="esfera" id="esfera" onchange="load_map()">
          <option value="municipios" selected>Município</option>
          <option value="setor_censitario">Setor Censitário</option>
        </select>
      </div>
      <div class="flex flex-col space-y-2">
        <label class="font-bold" for="dados">Dados</label>
        <select class="p-2 rounded w-full md:w-fit" name="dados" id="dados" onchange="load_map()">
          <option value="populacao" selected>População</option>
          <option value="pes_dom">Pessoas por Domicílio</option>
          <option value="domicilios">Domicílios</option>
          <option value="densidade">Densidade Demográfica</option>
          <option value="area">Área Geográfica</option>
        </select>
      </div>
    </div>
    <iframe id="mapa" class="rounded-xl w-full h-[600px] lg:max-w-[1280px] lg:h-[720px]"
      src="./maps/municipios_populacao.html" frameborder="0"></iframe>
    <span class="text-sm md:text-base mt-5 font-light text-right w-full lg:max-w-[1280px]"><b>[Painel em Construção]</b> Desenvolvido pela
      equipe da <a class="font-normal text-blue-600" href="https://seplan.rr.gov.br/cgees/" rel="noreferrer" referrerpolicy="no-referrer" target="_blank">CGEES</a> em conjunto com a equipe da <a class="font-normal text-blue-600" href="https://seplan.rr.gov.br/cgpre/" rel="noreferrer" referrerpolicy="no-referrer" target="_blank">CGPRE</a>.</span>
  </div>
</body>

</html>
